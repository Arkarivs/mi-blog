<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>todas las publicaciones</title>
    <link rel="stylesheet" href="https://arkarivs.github.io/mi-blog/styles.css">
</head>
<body>
    <div id="title">
        <h1>Todas las publicaciones</h1>
    </div>
    <div id="todaslaspublis"></div>
    <script>
    const repost = document.getElementById("todaslaspublis");
    async function publicaciones() {
        try {
            const respuesta = await fetch(`https://arkarivs.github.io/mi-blog/mango/index.json`, {
                headers: {
                    'Accept': 'application/json'
                }
            });
            if(!respuesta.ok) {
                throw new Error('HTTP Error ' + respuesta.status);
            }
            return await respuesta.json();
        } catch (error) {
            console.log(error);
            return null;
        }
    }

    publicaciones().then(data => {
        if(!data || !Array.isArray(data) || data.length === 0) {
            repost.innerHTML = "<p>no post</p>";
            return;
        }

        

        repost.innerHTML = data.map(post => {
            const url = post.url || ('/mango/' + post.id || '');
            return `
            <br>
            <a href="/mi-blog${url}" style="color: white;">
                <div id="miid" class="miclass" style="border: 2px solid green; border-radius: 13px;">
                    <div style="position: relative;">
                        <p style="cursor: default; postion: relative; left: 12px; padding: 8px;">${post.title}</p>
                    </div>    
                </div>
            </a>
            `;
        })
    })
    </script>
    <h1>volver a la pagina principal</h1>
    <p><a href="https://arkarivs.github.io/mi-blog/">volver</a></p>
</body>
</html>